<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="../unit.css" />
<script type="application/x-javascript" src="../unit.js"></script>
<script type="application/x-javascript">

/* The following list of methods is parsed from
   http://www.khronos.org/registry/gles/api/2.0/gl2.h
*/

var methods = [
  "activeTexture",
  "attachShader",
  "bindAttribLocation",
  "bindBuffer",
  "bindFramebuffer",
  "bindRenderbuffer",
  "bindTexture",
  "blendColor",
  "blendEquation",
  "blendEquationSeparate",
  "blendFunc",
  "blendFuncSeparate",
  "bufferData",
  "bufferSubData",
  "checkFramebufferStatus",
  "clear",
  "clearColor",
  // clearDepthf -> clearDepth
  "clearDepth",
  "clearStencil",
  "colorMask",
  "compileShader",
  "compressedTexImage2D",
  "compressedTexSubImage2D",
  "copyTexImage2D",
  "copyTexSubImage2D",
  "createProgram",
  "createShader",
  "cullFace",
  "deleteBuffers",
  "deleteFramebuffers",
  "deleteProgram",
  "deleteRenderbuffers",
  "deleteShader",
  "deleteTextures",
  "depthFunc",
  "depthMask",
  // depthRangef -> depthRange
  "depthRange",
  "detachShader",
  "disable",
  "disableVertexAttribArray",
  "drawArrays",
  "drawElements",
  "enable",
  "enableVertexAttribArray",
  "finish",
  "flush",
  "framebufferRenderbuffer",
  "framebufferTexture2D",
  "frontFace",
  "genBuffers",
  "generateMipmap",
  "genFramebuffers",
  "genRenderbuffers",
  "genTextures",

  // getBooleanv, getFloatv, getIntegerv, getString -> getParameter
  "getParameter",

  "getActiveAttrib",
  "getActiveUniform",
  "getAttachedShaders",
  "getAttribLocation",
  // getBufferParameteriv -> getBufferParameter
  "getBufferParameter",
  "getError",
  // getFramebufferAttachmentParameteriv -> getFramebufferAttachmentParameter
  "getFramebufferAttachmentParameter",
  // getProgramiv -> getProgramParameter
  "getProgramParameter",
  "getProgramInfoLog",
  // getRenderbufferParameteriv -> getRenderbufferParameter
  "getRenderbufferParameter",
  // getShaderiv -> getShaderParameter
  "getShaderParameter",
  "getShaderInfoLog",
  "getShaderPrecisionFormat",
  "getShaderSource",
  // getTexParameterif, getTexParameteriv -> getTexParameter
  "getTexParameter",
  // getUniformfv, getUniformiv -> getUniform
  "getUniform",
  "getUniformLocation",
  // getVertexAttribfv, getVertexAttribiv -> getVertexAttrib
  "getVertexAttrib",
  // getVertexAttribPointerv -> getVertexAttribPointer
  "getVertexAttribPointer",
  "hint",
  "isBuffer",
  "isEnabled",
  "isFramebuffer",
  "isProgram",
  "isRenderbuffer",
  "isShader",
  "isTexture",
  "lineWidth",
  "linkProgram",
  "pixelStorei",
  "polygonOffset",
  "readPixels",
  "releaseShaderCompiler",
  "renderbufferStorage",
  "sampleCoverage",
  "scissor",
  "shaderBinary",
  "shaderSource",
  "stencilFunc",
  "stencilFuncSeparate",
  "stencilMask",
  "stencilMaskSeparate",
  "stencilOp",
  "stencilOpSeparate",
  "texImage2D",
  // addition
  "texImage2DHTML",
  // texParameter[fi]v? -> texParameter
  "texParameter",
  // addition
  "texSubImage2DHTML",
  // uniform[1234]fv? -> uniformf
  "uniformf",
  // uniform[1234]fi? -> uniformi
  "uniformi",
  // uniformMatrix2fv, uniformMatrix3fv, uniformMatrix4fv -> uniformMatrix
  "uniformMatrix",
  "useProgram",
  "validateProgram",
  // vertexAttrib[1234]fv?, vertexAttribPointerv -> vertexAttrib
  "vertexAttrib",
  "viewport"
]

Tests.testOES20Methods = function() {
  var canvas = document.createElement('canvas');
  canvas.id = 'GLWeb20';
  canvas.width = canvas.height = 1;
  var gl;
  assertOk(function(){gl = canvas.getContext(GL_CONTEXT_ID)});
  for (var i=0; i<methods.length; i++) {
    assertProperty(gl, methods[i]);
  }
  var extended = false;
  for (var i in gl) {
    if (i.match(/^[a-z_]+$/) && methods.indexOf(i) == -1) {
      if (!extended) {
        extended = true;
        var h = document.createElement('h3');
        h.textContent = "Also found the following extra properties";
        __testLog__.appendChild(h);
      }
      log(i);
    }
  }
}

</script>
</head><body>
</body></html>
